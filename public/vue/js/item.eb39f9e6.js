(function(e){function t(t){for(var i,a,s=t[0],u=t[1],c=t[2],f=0,d=[];f<s.length;f++)a=s[f],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&d.push(n[a][0]),n[a]=0;for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(e[i]=u[i]);l&&l(t);while(d.length)d.shift()();return o.push.apply(o,c||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],i=!0,s=1;s<r.length;s++){var u=r[s];0!==n[u]&&(i=!1)}i&&(o.splice(t--,1),e=a(a.s=r[0]))}return e}var i={},n={item:0},o=[];function a(t){if(i[t])return i[t].exports;var r=i[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=i,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(r,i,function(t){return e[t]}.bind(null,i));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var l=u;o.push([2,"chunk-vendors","chunk-common"]),r()})({"18fb":function(e,t,r){"use strict";r.r(t);r("cadf"),r("551c"),r("f751"),r("097d");var i=r("2b0e"),n=r("7212"),o=r.n(n),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"item-page"},[r("page-header",{attrs:{"request-values":e.requestValues,user:e.user,favourites:e.favourites,"count-favourites":e.countFavourites,"show-salary":!1},on:{login:e.login,logout:e.logout,"remove-favourite":e.removeFavourite},model:{value:e.request,callback:function(t){e.request=t},expression:"request"}}),r("div",{staticClass:"view-on-desktop d-none d-sm-block d-md-block pb-4"},[r("main",{staticClass:"container wide-container course-data"},[r("autodetect-card",{attrs:{item:e.item,mobile:!1,"show-full":!0,"is-favourite":e.isFavourite(e.item)},on:{favourite:function(t){return e.toggleFavourite(e.item)},skills:e.overrideSkills}})],1)]),r("div",{staticClass:"view-on-mobile d-block d-sm-none d-md-none pt-4 pb-4"},[r("main",{staticClass:"container wide-container course-data"},[r("autodetect-card",{attrs:{item:e.item,mobile:!0,"show-full":!0,"is-favourite":e.isFavourite(e.item)},on:{favourite:function(t){return e.toggleFavourite(e.item)},skills:e.overrideSkills}})],1)]),r("div",{staticClass:"view-on-mobile d-block"},[r("h5",{staticClass:"text-center"},[e._v("Похожие материалы")]),r("main",[e._m(0),r("swiper",{staticClass:"course-list",attrs:{options:e.swiperOptions}},e._l(e.similar,(function(t){return r("autodetect-card",{key:t._id,attrs:{item:t,mobile:!0,"show-full":!1,"is-favourite":e.isFavourite(t)},on:{favourite:function(r){return e.toggleFavourite(t)},skills:e.overrideSkills}})})),1)],1)])],1)},s=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"pagination d-flex flex-row justify-content-center align-items-center no-result-hide"},[r("div",{staticClass:"swiper-button-prev"}),r("div",{staticClass:"swiper-pagination"}),r("div",{staticClass:"swiper-button-next"})])}],u=(r("8615"),r("ac6a"),r("456d"),r("96cf"),r("3b8d")),c=r("99ea"),l=r("36ad"),f=r("02b7"),d=r("d851"),v=r("bc80"),p=r("b696"),h=r("d951"),m={name:"ItemPage",components:{AutodetectCard:c["a"],PageHeader:l["a"]},props:[],data:function(){return{request:{who:"новичок",exp:"без опыта работы",want:"стать тестировщиком"},user:!1,favourites:h["a"].loadFavourites(),item:!1,similar:[],skillsOverride:!1,swiperOptions:{slidesPerView:"auto",initialSlide:1,centeredSlides:!0,spaceBetween:12,pagination:{el:".swiper-pagination",type:"fraction"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}}},created:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.loadItemData();case 2:return this.loadSimilarItems(),Object(d["c"])(),e.prev=4,e.next=7,Object(d["a"])();case 7:Object(d["d"])()?this.user=Object(d["b"])():this.user=!1,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](4),this.user=!1;case 13:case"end":return e.stop()}}),e,this,[[4,10]])})));function t(){return e.apply(this,arguments)}return t}(),watch:{favourites:{handler:function(){h["a"].saveFavourites(this.favourites)},deep:!0},request:{handler:function(){this.redirectToCatalog()},deep:!0}},methods:{overrideSkills:function(e){this.skillsOverride=e,this.loadSimilarItems()},loadItemData:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=p["a"].getItemIdFromUrl(),!t){e.next=5;break}return e.next=4,v["a"].loadItem(t);case 4:this.item=e.sent;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),loadSimilarItems:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.skillsOverride?this.skillsOverride:this.item.skills,r={"filter[skills]":t},e.next=4,v["a"].loadCoursesDebounced(r);case 4:return this.similar=e.sent,e.abrupt("return",this.similar);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),findProfessionCodeFromConfig:function(e,t){var r=Object.keys(e).reduce((function(r,i){var n=e[i];return n===t?i:r}),!1);return r},getProfessionCodeFromRequest:function(){var e=f["a"].requestValues,t=this.findProfessionCodeFromConfig(e.who,this.request.who),r=this.findProfessionCodeFromConfig(e.want,this.request.want);return t||(r||!1)},redirectToCatalog:function(){var e=this.getProfessionCodeFromRequest();if(e){var t=p["a"].addRequestParamsToUrl("".concat(location.origin,"/").concat(e,"/catalog"),this.request);window.location.href=t}},login:function(){Object(d["e"])()},logout:function(){Object(d["f"])()},isFavourite:function(e){return-1!==h["a"].findFavouriteIndex(e,this.favourites)},addFavourite:function(e){this.favourites=h["a"].addFavourite(e,this.favourites)},removeFavourite:function(e){this.favourites=h["a"].removeFavourite(e,this.favourites)},toggleFavourite:function(e){this.isFavourite(e)?this.removeFavourite(e):this.addFavourite(e)},flattenValues:function(e){var t=Object.values(e);return t.reduce((function(e,t){return t instanceof Array?e=e.concat(t):e.push(t),e}),[])}},computed:{requestValues:function(){var e=f["a"].requestValues;return{who:this.flattenValues(e.who),exp:e.exp,want:this.flattenValues(e.want)}},countFavourites:function(){return this.favourites.length}}},b=m,w=(r("75c8"),r("2877")),g=Object(w["a"])(b,a,s,!1,null,null,null),k=g.exports;i["a"].config.productionTip=!1,i["a"].config.devtools=!0,i["a"].use(o.a),window.vueInstance=new i["a"]({render:function(e){return e(k)}}).$mount("#app-root")},2:function(e,t,r){e.exports=r("18fb")},"6ede":function(e,t,r){},"75c8":function(e,t,r){"use strict";var i=r("6ede"),n=r.n(i);n.a}});
//# sourceMappingURL=item.eb39f9e6.js.map